const h=(o={})=>{let{validationElement:t,validationProperty:e}=o;t||(t=Object.assign(document.createElement("input"),{required:!0})),e||(e="value");const a={observedAttributes:["required"],message:t.validationMessage,checkValidity(s){const i={message:"",isValid:!0,invalidKeys:[]};return(s.required??s.hasAttribute("required"))&&!s[e]&&(i.message=typeof a.message=="function"?a.message(s):a.message||"",i.isValid=!1,i.invalidKeys.push("valueMissing")),i}};return a};class u{constructor(t,...e){this.slotNames=[],this.handleSlotChange=a=>{const s=a.target;(this.slotNames.includes("[default]")&&!s.name||s.name&&this.slotNames.includes(s.name))&&this.host.requestUpdate()},(this.host=t).addController(this),this.slotNames=e}hasDefaultSlot(){return[...this.host.childNodes].some(t=>{if(t.nodeType===Node.TEXT_NODE&&t.textContent?.trim()!=="")return!0;if(t.nodeType===Node.ELEMENT_NODE){const e=t;if(e.tagName.toLowerCase()==="w-visually-hidden")return!1;if(!e.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(t){return this.host.querySelector(`:scope > [slot="${t}"]`)!==null}test(t){return t==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(t)}hostConnected(){this.host.shadowRoot?.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot?.removeEventListener("slotchange",this.handleSlotChange)}}export{u as H,h as R};
